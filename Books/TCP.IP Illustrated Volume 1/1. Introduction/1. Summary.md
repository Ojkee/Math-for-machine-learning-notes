- This chapter has been a whirlwind tour of concepts in network architecture and design in general, plus the [[TCP.IP|TCP/IP]] protocol suite in particular that we discuss in detail in later chapters. The Internet architecture was designed to interconnect different existing networks and provide for a wide range of services and protocols operating simultaneously. [[Packet switching|Packet switching]] using [[Datagram|datagrams]] was chosen for its robustness and efficiency. Security and predictable delivery of data (e.g., bounded latency) were secondary concerns.

- Based on their understanding of layered and modular software design in operating systems, the early implementers of the Internet protocols adopted a layered design that employs [[Encapsulation]]. The three main layers in the TCP protocol suite are the network layer, transport layer, and application layer, and we mentioned the different responsibilities of each. We also mentioned the link layer because it relates so closely with the TCP/IP suite. We shall discuss each in more detail in subsequent chapters.

- In TCP, the distinction between the network layer and the transport layer is critical: the network layer ([[IP]]) provides an unreliable datagram service and must be implemented by all systems addressable on the Internet, whereas the transport layers (TCP and [[UDP]]) provide an [[End-to-End Argument|end-to-end]] service to applications running on end hosts. The primary transport layers differ radically. TCP provides in-ordered reliable stream delivery with flow control and congestion control. UDP provides essentially no capabilities beyond IP except [[Port Numbers]] for [[Demultiplexing|demultiplexing]] and an error detection mechanism. Unlike TCP, however, it supports [[Multicast|multicast]] delivery.

- Addresses and demultiplexing identifiers are used by each layer to avoid confusing protocols or different associations/connections of the same protocol. Link-layer multi-access networks often use 48-bit addresses; [[IPv4 Address]] uses 32-bit addresses and [[IPv6 Address]] uses 128-bit addresses. The TCP and UDP transport protocols use distinct sets of port numbers. Some port numbers are assigned by standards, and others are used temporarily, usually by client applications when communicating with servers. Port numbers do not represent anything physical; they are merely used as a way for applications that want to communicate to rendezvous.

- Although port numbers and IP addresses are usually enough to identify the location of a service on the Internet, they are not very convenient for humans to remember or use (especially IPv6 addresses). Consequently, the Internet uses a hierarchical system of host names that can be converted to IP addresses (and back) using [[DNS]], a distributed database application running on the Internet. DNS has become an essential component of the Internet infrastructure, and efforts are under way to make it more secure (see Chapter 18).

- An internet is a collection of networks. The common building block for an internet is a router that connects the networks at the IP layer. The “capital-`I`” Internet is an internet that spans the globe and interconnects nearly two billion users (as of 2010). Private internets are called intranets and are usually connected to the Internet using special devices (firewalls, discussed in Chapter 10) that attempt to prevent unauthorized access. Extranets usually consist of a subset of an institution’s intranet that is designed to be accessed by partners or affiliates in a limited way.

- Networked applications are usually designed using a [[Client.Server|client/server]] or [[Peer-to-peer]] design pattern. Client/server is more popular and traditional, but peer-to-peer designs have also seen tremendous success. Whatever the design pattern applications invoke [[API|APIs]] to perform networking tasks. The most common API for TCP networks is called sockets. It was provided with BSD UNIX distributions, software releases that pioneered the use of TCP. By the late 1990s the TCP/IP protocol suite and sockets API were available on every popular operating system.

- Security was not a major design goal for the Internet architecture. Determining where [[Packet|packets]] originate can be difficult for a receiver, as end hosts can easily spoof source IP addresses in unsecured IP datagrams. Distributed DoS attacks also remain an ongoing challenge because victim end hosts can be collected together to form botnets that can carry out DDoS and other attacks, sometimes without the system owners’ knowledge. Finally, early Internet protocols did little to ensure privacy of sensitive information, but most of those protocols are now deprecated, and modern replacements use encryption to provide confidential and authenticated communications between hosts.

