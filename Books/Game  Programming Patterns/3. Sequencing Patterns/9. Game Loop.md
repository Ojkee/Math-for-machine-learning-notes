Decouple the progression of game time from user input and processor speed.

### Problem 
Following example has few issues. 
- the faster `update()` execution, the faster game becomes, hence different game speed on different machines.
- high power consumption.
- multiplayer may be difficult to handle.
```cpp
while (run) {
	process_input();
	update();
	render();
}
```

### Solution
Decouple `render()`, which always displays the current game state, from `update()`, which advances the state to match the current frame.

```cpp
double previous = get_current_time();
double lag = 0.0;
while (run) {
	double current = get_current_time();
	double elapsed = current - previous; 
	previous = current;
	lag += elapsed;

	process_input();
	
	while (lag >= MS_PER_UPDATE) {
		update();
		lag -= MS_PER_UPDATE;
	}

	render();
}
```
![[Pasted image 20250813123225.png]]
#### Delayed render
`render()` shows the latest state instead of current state.
![[Pasted image 20250813123814.png]]
![[Pasted image 20250813123841.png]]
#### Solution to delay
If `render()` has all the information about the state, it can predict the state. Prediction may not be accurate, but it is rarely noticeable. 
```cpp
render(lag / MS_PER_UPDATE);
```
