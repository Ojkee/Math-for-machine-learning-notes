Define behavior in a subclass using a set of operations provided by its base class.

### Problem
Many mechanics and classes are tightly coupled with large portions of code, so a single change can break numerous classes.

### Solution
Abstract the base class to provide protected methods, so that only this single class is coupled to the rest of the code. One method must be overridden.

```cpp
class Superpower {
public:
	virtual ~Superpower() {}

protected:
	virtual void activate() = 0;
	
	double get_hero_x();
	double get_hero_y();
	double get_hero_z();
	
	void move(double x, double y, double z);
	void play_sound(SoundId sound, double volume);
	void spawn_particles(ParticleType type, int count);
};
```

```cpp
class SkyLaunch : public Superpower {
protected:
	void activate() override {
		if (get_hero_z() == 0) {
			play_sound(SOUND_SPROING, 1.0);
			spawn_particles(PARTICLE_DUST, 10);
			move(0, 0, 20);
		} else if (get_hero_z() < 10.0) {
			play_sound(SOUND_SWOOP, 1.0);
			move(0, 0, get_hero_z() - 20);
		} else {
			play_sound(SOUND_DIVE, 0.7);
			spawn_particles(PARTICLE_SPARKLES, 1);
			move(0, 0, -get_hero_z());
		}
	}
};
```

### Problem (`Too many methods in base class`)
Too many methods are crammed into base class.

```cpp
class Superpower {
	// As before

	void play_sound(SoundId sound, double volume);
	void stop_sound(SoundId sound);
	void set_volume(SoundId sound);

	// Many other methods
};
```

### Solution
One way to extract some methods is to group methods into specialized class. That way all the `#include`s related to sound are located at related class file.

```cpp
class SoundPlayer {
	void play_sound(SoundId sound, double volume);
	void stop_sound(SoundId sound);
	void set_volume(SoundId sound);
};
```

```cpp
class Superpower {
public:
	void init(SoundPlayer* sound_player, ParticleSystem *particles);
	
	// Rest ss before

	
protected:
	SoundPlayer& get_sound_player() {
		return m_sound_player; 
	}

	// Analogously other instances
	
private:
	static SoundPlayer* m_sound_player{};
	static ParticleSystem* m_particles{};
};
```

```cpp
Superpower* power = new SkyLaunch();
power->init(sound_player);
```
